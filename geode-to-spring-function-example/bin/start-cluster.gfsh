#!/bin/gfsh

start locator --name=LocatorOne --log-level=config --J=-Dgemfire.member-timeout=600000

start server --name=ServerOne --log-level=config --J=-Dgemfire.member-timeout=600000 \
  --J=-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005 \
  --classpath="${SYS_USER_HOME}/.m2/repository/javax/annotation/javax.annotation-api/1.3.2/javax.annotation-api-1.3.2.jar:${SYS_USER_HOME}/.m2/repository/org/codeprimate/cp-elements/1.0.0.M4/cp-elements-1.0.0.M4.jar:${SYS_USER_HOME}/.m2/repository/org/springframework/spring-core/5.0.7.RELEASE/spring-core-5.0.7.RELEASE.jar:${SYS_USER_HOME}/.m2/repository/org/springframework/spring-aop/5.0.7.RELEASE/spring-aop-5.0.7.RELEASE.jar:${SYS_USER_HOME}/.m2/repository/org/springframework/spring-beans/5.0.7.RELEASE/spring-beans-5.0.7.RELEASE.jar:${SYS_USER_HOME}/.m2/repository/org/springframework/spring-context/5.0.7.RELEASE/spring-context-5.0.7.RELEASE.jar:${SYS_USER_HOME}/.m2/repository/org/springframework/spring-context-support/5.0.7.RELEASE/spring-context-support-5.0.7.RELEASE.jar:${SYS_USER_HOME}/.m2/repository/org/springframework/spring-expression/5.0.7.RELEASE/spring-expression-5.0.7.RELEASE.jar:${SYS_USER_HOME}/.m2/repository/org/springframework/spring-tx/5.0.7.RELEASE/spring-tx-5.0.7.RELEASE.jar:${SYS_USER_HOME}/.m2/repository/org/springframework/spring-web/5.0.7.RELEASE/spring-web-5.0.7.RELEASE.jar:${SYS_USER_HOME}/.m2/repository/org/springframework/data/spring-data-commons/2.1.0.BUILD-SNAPSHOT/spring-data-commons-2.1.0.BUILD-SNAPSHOT.jar:${SYS_USER_HOME}/.m2/repository/org/springframework/data/spring-data-geode/2.1.0.DATAGEODE-120-SNAPSHOT/spring-data-geode-2.1.0.DATAGEODE-120-SNAPSHOT.jar:${SYS_USER_HOME}/.m2/repository/example/apps/contacts-core/1.0.0.RELEASE/contacts-core-1.0.0.RELEASE.jar:${SYS_USER_HOME}/.m2/repository/com/google/guava/guava/17.0/guava-17.0.jar:${SYS_USER_HOME}/.m2/repository/org/languagetool/language-en/4.1/language-en-4.1.jar:${SYS_USER_HOME}/.m2/repository/org/languagetool/languagetool-core/4.1/languagetool-core-4.1.jar:${SYS_USER_HOME}/.m2/repository/org/apache/commons/commons-lang3/3.7/commons-lang3-3.7.jar:${SYS_USER_HOME}/.m2/repository/net/java/dev/jna/jna/4.5.1/jna-4.5.1.jar:${SYS_USER_HOME}/.m2/repository/org/carrot2/morfologik-fsa/2.1.5/morfologik-fsa-2.1.5.jar:${SYS_USER_HOME}/.m2/repository/org/carrot2/morfologik-fsa-builders/2.1.5/morfologik-fsa-builders-2.1.5.jar:${SYS_USER_HOME}/.m2/repository/org/carrot2/morfologik-speller/2.1.5/morfologik-speller-2.1.5.jar:${SYS_USER_HOME}/.m2/repository/org/carrot2/morfologik-stemming/2.1.5/morfologik-stemming-2.1.5.jar:${SYS_USER_HOME}/.m2/repository/com/carrotsearch/hppc/0.7.2/hppc-0.7.2.jar:${SYS_USER_HOME}/.m2/repository/net/loomchild/segment/2.0.0/segment-2.0.0.jar:${SYS_USER_HOME}/.m2/repository/commons-logging/commons-logging/1.1.1/commons-logging-1.1.1.jar:${SYS_USER_HOME}/.m2/repository/com/optimaize/languagedetector/language-detector/0.6/language-detector-0.6.jar:${SYS_USER_HOME}/.m2/repository/net/arnx/jsonic/1.2.11/jsonic-1.2.11.jar:${SYS_USER_HOME}/.m2/repository/com/intellij/annotations/12.0/annotations-12.0.jar:${SYS_USER_HOME}/.m2/repository/org/apache/lucene/lucene-core/6.6.2/lucene-core-6.6.2.jar:${SYS_USER_HOME}/.m2/repository/org/apache/lucene/lucene-backward-codecs/5.5.4/lucene-backward-codecs-5.5.4.jar:${SYS_USER_HOME}/.m2/repository/edu/berkeley/nlp/berkeleylm/1.1.2/berkeleylm-1.1.2.jar:${SYS_USER_HOME}/.m2/repository/javax/xml/bind/jaxb-api/2.3.0/jaxb-api-2.3.0.jar:${SYS_USER_HOME}/.m2/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar:${SYS_USER_HOME}/.m2/repository/ch/qos/logback/logback-core/1.2.3/logback-core-1.2.3.jar:${SYS_USER_HOME}/.m2/repository/org/apache/opennlp/opennlp-tools/1.7.2/opennlp-tools-1.7.2.jar:${SYS_USER_HOME}/.m2/repository/edu/washington/cs/knowitall/opennlp-tokenize-models/1.5/opennlp-tokenize-models-1.5.jar:${SYS_USER_HOME}/.m2/repository/edu/washington/cs/knowitall/opennlp-postag-models/1.5/opennlp-postag-models-1.5.jar:${SYS_USER_HOME}/.m2/repository/edu/washington/cs/knowitall/opennlp-chunk-models/1.5/opennlp-chunk-models-1.5.jar"

create region --name=Chats --type=PARTITION

deploy --jar=${SYS_USER_HOME}/pivdev/spring-data-examples-workspace/contacts-application-workspace/geode-to-spring-function-example/target/geode-to-spring-function-example-1.0.0.RELEASE.jar

#execute function --id=org.springframework.data.gemfire.function.support.SpringDefinedFunctionAwareRegistrar --member=ServerOne --arguments=example.app.server.function
execute function --id=example.app.server.function.SpringDefinedFunctionInitializer --member=ServerOne --arguments=example.app.server.function

list members
list regions
list functions
